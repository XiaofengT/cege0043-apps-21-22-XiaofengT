<DOCTYPE html>
  <html lang="en">
  <head>
    <!-- Use correct character set. -->
    <meta charset="utf-8">

    <!-- Tell IE to use the latest, best version. -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- the following links add the CSS and Javascript required for the Leaflet Map -->
	<link rel="stylesheet" href="https://unpkg.com/leaflet@1.1.0/dist/leaflet.css"
	integrity="sha512-wcw6ts8Anuw10Mzh9Ytw4pylW8+NAD4ch3lqm9lzAsTxg0GFeJgoAtxuCLREZSC5lUXdVyo/7yfsqFjQ4S+aKw=="
	crossorigin=""/>
	<script src="https://unpkg.com/leaflet@1.1.0/dist/leaflet.js"
	integrity="sha512-mNqn2Wg7tSToJhvHcqfzLMU6J4mkOImSPTxVZAdo+lcPlk+GhZmYgACEe0x35K7YzW1zJ7XyJV/TT1MrdXvMcA=="
	crossorigin=""></script>
	
	<!-- custom fonts and styles for the bootstrap template -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" type="text/css" rel="stylesheet"> 
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"  crossorigin="anonymous">

    <link href="css/sb-admin-2.css" type="text/css" rel="stylesheet">
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.20/css/jquery.dataTables.css">
	
	<!-- the following links incorporate the CSS required for custom icon creation -->
	<link rel="stylesheet" href="css/ionicons.min.css">
	<link rel="stylesheet" href="css/leaflet.awesome-markers.css">
	<script src="js/leaflet.awesome-markers.js"></script>
	<script
	src="https://code.jquery.com/jquery-3.4.1.min.js"
	integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
	crossorigin="anonymous"></script>  
	
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.js"></script>
	<!-- functionality for data export -->
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.1/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.6.1/js/buttons.html5.min.js"></script>


	<!-- Bootstrap core JavaScript-->
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
	<script src="https://d3js.org/d3.v5.min.js"></script>

	<script src="js/sb-admin-2.js"></script>
	<script src="js/uploadData.js"></script>
	<script src="js/assetCreation.js"></script>
	<script src="js/conditionCreation.js"></script>
	<script src="js/menu.js"></script>
	
	<!-- set the style for the bar graph -->
	<style>
	.bar {
	  fill: #71EEB8;
	}

	.bar:hover {
	  fill: slateblue;
	}

	.axis-x path {
	  display: none;
	}

	.axis text {
	  font-weight: bold;
	}
	</style>

    <title>Bootstrap Simplified Template</title>
    <!-- adapted from: https://blackrockdigital.github.io/startbootstrap-sb-admin-2/ -->

  </head>
  <body id="page-top">
    <div id="wrapper">

      <!-- Sidebar -->
      <ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion" id="accordionSidebar">

        <!-- Sidebar - Brand -->
        <a class="sidebar-brand d-flex align-items-center justify-content-center" >
          <div class="sidebar-brand-text mx-3">
		  XiaofengT<br/>
		  zczlxt2
		  </div>
        </a>

        <!-- Divider -->
        <hr class="sidebar-divider">
		
		<!-- Asset Location menu-->
		<li class="nav-item d-none d-lg-block" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="bestConditionAssetData()" aria-expanded="true" aria-controls="collapseOne">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>List of Assets in Best Condition</span>
          </a>

        </li>
		
		<li class="nav-item d-none d-lg-block" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="showReportGraph()" aria-expanded="true" aria-controls="collapseTwo">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Daily Reporting Rates Graph</span>
          </a>

        </li>
		 
		 
		<!-- Condition Assessment menu-->
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="document.location='helpPage.html'" aria-expanded="true" aria-controls="collapseThree">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Help</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="getUserRanking()" aria-expanded="true" aria-controls="collapseFour">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>User Ranking</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="fiveClosestAssetsLocation()" aria-expanded="true" aria-controls="collapseFive">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Add Layer – 5 closest assets</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="removeFiveClosestAssets()" aria-expanded="true" aria-controls="collapseSix">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Remove Layer – 5 closest assets</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="lastFiveConditionLocation()" aria-expanded="true" aria-controls="collapseSeven">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Add Layer – last 5 reports</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="removeLastFiveCondition()" aria-expanded="true" aria-controls="collapseEight">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Remove Layer – last 5 reports</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="missingConditionLocation()" aria-expanded="true" aria-controls="collapseNine">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Add Layer – not rated in the last 3 days</span>
          </a>

        </li>
		
		<li class="nav-item d-lg-none" >
          <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="" onclick="removeMissingCondition()" aria-expanded="true" aria-controls="collapseTen">
            <!-- the next line is the cog image -->
            <i class="fas fa-fw fa-cog"></i>
            <span>Remove Layer – not rated in the last 3 days</span>
          </a>

        </li>
		
       </ul>
       <!-- End of Sidebar -->

       <div id="content-wrapper" class="d-flex flex-column">
       <div id="mapContainer" class="h-100 w-100" style="z-index:0;"></div>
      <!-- End of Main Content -->
	  </div>
	  <div id="graphWrapper" class="h-75 w-75 d-flex flex-column"
	  style="background-color: white; display: inlineblock;position:absolute; top:-9999;left:15%;"><button type="button"
	  class="close" aria-label="Close" onclick="closeGraph();">Close Graph</button></div>
	  <div id="tablediv" class="h-75 w-75 d-flex flex-column"
	  style="background-color: white; display: inlineblock;position:absolute; top:-9999;left:15%;"></div>
	  <div id="helpdiv" class="h-75 w-75 d-flex flex-column"
	  style="background-color: white; display: inlineblock;position:absolute; top:-9999;left:15%;"></div>
    </div>
    <!-- end of wrapper -->
	

  </body>



<script>
function loadMap() {
	// map loading code goes here
	getUserId();
	loadLeafletMap();
	setMapClickEvent();
	window.addEventListener('resize', setMapClickEvent);
}

document.addEventListener('DOMContentLoaded', function() {
  console.log("listener domcontentloaded");
  loadMap();
}, false);

</script>

  </html>
